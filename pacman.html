<!DOCTYPE html>
<html>
<head>
	<title>Pacman Type Game</title>
	<style type="text/css">

	canvas {margin:auto;
			margin-top:50px;
			background-color:green;}
	</style>
	
</head>
<body>

	<canvas id="game" width="650px" height="500px"></canvas>

<script type="text/javascript"> 
	
	function draw () {

		var x=0;
		var y=250;
		
	   	var myCanvas = document.getElementById("game");
	   	var ctx = myCanvas.getContext("2d");
	  	ctx.strokeStyle = "black";
	  	ctx.lineWidth = 5;
	   	ctx.clearRect(0,0,650,500);
	   	ctx.strokeRect(0,0,650,500);
	   	ctx.fillRect(x,y,10,10);

	   	// maze wall I.
	   	ctx.beginPath();
	   	ctx.moveTo(50,200);
	   	ctx.lineTo(50,50);
	   	ctx.lineTo(600,50);
	   	ctx.lineTo(600,450);
	   	ctx.lineTo(50,450);
	   	ctx.lineTo(50,300);
	   	ctx.stroke();
	   	

	   	// maze wall II.
	   	ctx.beginPath();
	   	ctx.moveTo(550,300);
	   	ctx.lineTo(550,400);
	   	ctx.lineTo(100,400);
	   	ctx.lineTo(100,100);
	   	ctx.lineTo(550,100);
	   	ctx.lineTo(550,200);
	    ctx.stroke();

	    // maze wall III.
	    ctx.beginPath();
	   	ctx.moveTo(150,200);
	   	ctx.lineTo(150,150);
	   	ctx.lineTo(500,150);
	   	ctx.lineTo(500,350);
	   	ctx.lineTo(150,350);
	   	ctx.lineTo(150,300);
	    ctx.stroke();
	   		

   		 
		function keyDet (e) {
				
			 switch(e.keyCode) {

				case 38: y-=17; //up move
				// field constraints
				if (y < 0) {y = 0;} // upper main wall 
				// outermost maze wall
			    if ((y < 450)&&(y > 430)&&(x > 50)&&(x < 600)) {y = 450;} // first labyrinth (bottom wall outside)
				if((y < 45)&&(y > 30)&&(x > 50)&&(x < 600)) {y = 50;} // first labyrinth (top wall inside)
				break;



				case 40: y+=17; //down move
				// field constraints
				if (y > 490) {y = 490;} // bottom main wall
				// outermost maze wall
			    if ((y > 40)&&(y < 60)&&(x > 50)&&(x < 600)) {y = 40;} // first labyrinth (top wall outside)
			    if((y < 460)&&(y > 440)&&(x > 50)&&(x < 595)) {y = 440;} // first labyrinth (bottom wall inside)
				break;



				case 37: x-=17; //left move
				//field constraints
				if (x < 0) {x = 0}//right main wall
				// outermost maze wall
			    if ((y > 45)&&(y < 450)&&(x < 600)&&(x > 580)) {x = 600;} // first labyrinth (right wall outside)
			    if ((y > 45)&&(y < 200)&&(x < 50)&&(x > 32)) {x = 50;} // first labyrinth (left wall outside top)
			    if ((y > 300)&&(y < 450)&&(x < 50)&&(x > 32)) {x = 50;}// first labyrinth (left wall outside bottom)

				break;



				case 39: x+=17;//right move
				// field constraints
				if (x > 640) {x = 640;}//left main wall
				// outermost maze wall
			    if ((y > 45)&&(y < 200)&&(x > 40)&&(x < 60)) {x = 40;} // first labyrinth (left wall outside top)
			    if ((y > 300)&&(y < 450)&&(x > 40)&&(x < 60)) {x = 40;}// first labyrinth (left wall outside bottom)
			    if ((y > 45)&&(y < 450)&&(x < 610)&&(x > 590)) {x = 590;} // first labyrinth (right wall inside)
				break;
					
			}
			ctx.clearRect(0,0,650,500);
			ctx.strokeRect(0,0,650,500);
			ctx.fillRect(x,y,10,10);

			// maze wall I.
	   	ctx.beginPath();
	   	ctx.moveTo(50,200);
	   	ctx.lineTo(50,50);
	   	ctx.lineTo(600,50);
	   	ctx.lineTo(600,450);
	   	ctx.lineTo(50,450);
	   	ctx.lineTo(50,300);
	   	ctx.stroke();
	   	

	   	// maze wall II.
	   	ctx.beginPath();
	   	ctx.moveTo(550,300);
	   	ctx.lineTo(550,400);
	   	ctx.lineTo(100,400);
	   	ctx.lineTo(100,100);
	   	ctx.lineTo(550,100);
	   	ctx.lineTo(550,200);
	    ctx.stroke();

	    // maze wall III.
	    ctx.beginPath();
	   	ctx.moveTo(150,200);
	   	ctx.lineTo(150,150);
	   	ctx.lineTo(500,150);
	   	ctx.lineTo(500,350);
	   	ctx.lineTo(150,350);
	   	ctx.lineTo(150,300);
	    ctx.stroke();
		}

		window.addEventListener("keydown",keyDet, false);
		 // var looptimer = function() {setInterval(draw,100);}
		 // looptimer();
	}
	
	window.onload = draw;

	</script>
</body>
</html>